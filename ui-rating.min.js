angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var a={$setViewValue:angular.noop};this.maxRange=angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff,this.init=function(n){a=n,a.$render=this.render,e.range=this.buildTemplateObjects(angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(this.maxRange))},this.buildTemplateObjects=function(e){for(var t={stateOn:this.stateOn,stateOff:this.stateOff},n=0,a=e.length;a>n;n++)e[n]=angular.extend({index:n},t,e[n]);return e},e.rate=function(t){e.readonly||(a.$setViewValue(t),a.$render())},e.enter=function(t){e.readonly||(e.val=t),e.onHover({value:t})},e.reset=function(){e.val=a.$viewValue,e.onLeave()},this.render=function(){e.val=a.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,a){var r=a[0],i=a[1];i&&r.init(i)}}});